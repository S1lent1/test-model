# Структура тестов и организация процессов тестирования

Процессы тестирования в разрабатываемой профессиональной социальной сети реализуются в соответствии с принципами Agile и методологией Extreme Programming (XP). Тестирование рассматривается как непрерывная деятельность, выполняемая на всех этапах разработки и интеграции функциональных компонентов.

Основная цель — обеспечить устойчивое качество системы, минимизировать регрессию, контролировать технические риски и обеспечить воспроизводимость поведения платформы при реальных пользовательских сценариях.

## 1. Структура тестов

Тесты в проекте разделяются на несколько уровней, обеспечивающих полноту проверки функциональности и поведения системы:

### 1.1 Unit-тесты

Назначение: верификация минимальных единиц функциональности (функций, методов, классов).

Характерные особенности:
- выполняются в изоляции от внешних сервисов;
- применяются TDD-циклы (Red–Green–Refactor);
- обязательны к созданию для всех новых модулей.

Примеры покрываемых областей:
- валидация данных при создании постов и портфолио;
- правила формирования ленты рекомендаций;
- обработка авторизационных токенов.

### 1.2 Интеграционные тесты

Назначение: проверка взаимодействия нескольких компонентов системы.

Особенности:
- работают в тестовом окружении;
- используют тестовые базы данных и мок-сервисы.

Проверяют:
- корректность API между сервисами профилей, постов, рекомендаций;
- корректную обработку ответов внешних сервисов (например, CDN-хранилища изображений).

### 1.3 Acceptance-тесты

Назначение: проверка соответствия функциональности пользовательским историям и критериям приемки (Acceptance Criteria).
Основаны на User Stories.

Примеры сценариев:
- «Пользователь публикует проект, и он отображается в ленте подписчиков»;
- «Пользователь добавляет навыки, которые корректно учитываются поисковой системой».

### 1.4 Регрессионные тесты

Назначение: проверка стабильности системы при добавлении новых фич.
Исполняются при:

merge в ветку main;

формировании релизных сборок.

### 1.5 Нефункциональные тесты

Для социальной сети критичны:

нагрузочные (пиковые запросы при массовом обновлении ленты);

тестирование отказоустойчивости (устойчивость API при деградации БД);

UX-тестирование (скорость отображения ленты и профиля).

## 2. Размещение и хранение тестов

Тесты хранятся в единой структуре репозитория, разделённой по уровням тестирования:

/tests
  /unit
  /integration
  /acceptance
  /regression
  /performance


Дополнительно:

Каждый модуль приложения содержит каталог __tests__.

Ветки разработки содержат тесты вместе с функциональным кодом.

Хранение тестовых данных — в /tests/resources.

Для интеграционных тестов применяются Docker-контейнеры тестового окружения.

## 3. Система пометок тестов

Тесты классифицируются по степени критичности.

### 3.1 Критичность тестов

Используются следующие категории:

Категория	Описание
Critical	Функциональность, нарушение которой делает сервис частично или полностью недоступным. Обязательное выполнение при каждом коммите.
High	Функции, влияющие на ключевые пользовательские сценарии (публикация постов, авторизация).
Medium	Вспомогательная логика (фильтры, сортировка, UI-элементы).
Low	Непрямые эффекты, настройки, не влияющие на основные UX-сценарии.

### 3.2 Отметки тестов

Каждый тест помечается аннотацией/тегом:

Пример:

@critical
@integration
@acceptance


В CI запускаются разные наборы тестов:

feature-ветки: unit + critical

dev: unit + integration + acceptance

main: полный набор

## 4. Планировка тестов

Планирование тестирования основано на:

User Stories;

Acceptance Criteria;

технических рисках;

определённой критичности модулей.

### 4.1 Что проверяется в первую очередь

Авторизация и безопасность.

Создание и редактирование контента.

Лента рекомендаций и поиск.

Подписки, взаимодействия, сохранения.

Загрузка изображений и работа с медиаконтентом.

### 4.2 Оценка покрываемых сценариев

Приоритеты:

наиболее частые пользовательские действия (высокий трафик);

части системы с высокой связностью компонентов;

зоны с большими рисками регрессии.

## 5. Успешный прогон тестов

Тестовый прогон считается успешным, если выполнены следующие условия:

Все критичные тесты (critical) завершились успешно.

Порог покрытия unit-тестами не ниже установленного (обычно ≥ 70%).

Интеграционные тесты не содержат ошибок взаимодействия сервисов.

Acceptance-тесты подтверждают выполнение требований User Stories.

Нагрузочные тесты не приводят к превышению временных и ресурсных лимитов.

Если любой тест из класса Critical или High завершается неуспешно — merge запрещается.

## 6. Неуспешный прогон

Прогон считается неуспешным при любом из условий:

падение critical/high теста;

нарушение контрактов API;

снижение покрытия ниже порога;

отличия фактического поведения от Acceptance Criteria;

превышение SLA по времени ответа;

неконсистентность состояния БД после тестов.

В случае провала автоматически формируется отчёт с логами и артефактами.

## 7. Bug report и уровни критичности дефектов

Каждый дефект фиксируется в баг-трекере (YouTrack/Jira).
Отчёт должен включать:

Заголовок дефекта

Шаги воспроизведения

Ожидаемое поведение

Фактическое поведение

Окружение

Логи/скриншоты

Уровень критичности

Уровни критичности дефектов
Уровень	Описание
Blocker	Система полностью недоступна, невозможна авторизация, загрузка приложения, выполнение ключевых сценариев. Требует немедленного исправления.
Critical	Нарушение основных функций: публикация постов, просмотр профилей, лента рекомендаций.
Major	Частичное нарушение функциональности: ошибки в медиаразделе, некорректная работа фильтров.
Minor	UI-ошибки, несоответствие текста, неточности элементов интерфейса.
Trivial	Небольшие косметические несоответствия.

Приоритет исправления определяется уровнем критичности и статистикой повторяемости дефекта.
